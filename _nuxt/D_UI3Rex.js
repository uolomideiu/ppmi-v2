import{k as C,r as c,R as m,c as y,o as d,d as o,y as h,z as S,c0 as V,i as k,a9 as x,g as L,F as N,p as B,h as j}from"./BtdstHtp.js";import{_ as F}from"./VQgkNu__.js";import{_ as M}from"./DPrrECrK.js";import"./CziTMEVh.js";const T={class:"publications"},U={class:"header rvt-flex rvt-ts-xs rvt-items-center rvt-justify-space-between"},I={class:"search"},$={class:"sort rvt-flex rvt-items-center"},z=C({__name:"Publications",props:{perPage:{type:Number,default:5},pubs:{type:Array,default:()=>[]}},setup(p){const n=p,v=c(1),f=c(null),u=c(""),l=c(""),i=m(()=>{let a=n.pubs;if(u.value){const e=u.value.toLowerCase();a=a.filter(t=>{var r,s,g,b;return((r=t.title)==null?void 0:r.toLowerCase().includes(e))||((s=t.author)==null?void 0:s.toLowerCase().includes(e))||((g=t.journal)==null?void 0:g.toLowerCase().includes(e))||((b=t.year)==null?void 0:b.toString().includes(e))})}return l.value&&(a=[...a].sort((e,t)=>{const r=e[l.value],s=t[l.value];return l.value==="year"?Number(s)-Number(r):typeof r=="string"&&typeof s=="string"?r.localeCompare(s):typeof r=="number"&&typeof s=="number"?r-s:r!==void 0&&s!==void 0?r.toString().localeCompare(s.toString()):0})),a}),P=m(()=>{var a;return Math.ceil(((a=i.value)==null?void 0:a.length)/n.perPage)}),_=m(()=>{var t;const a=(v.value-1)*n.perPage,e=a+n.perPage;return(t=i==null?void 0:i.value)==null?void 0:t.slice(a,e)}),w=a=>{var e;v.value=a,(e=f.value)==null||e.scrollIntoView()};return(a,e)=>(d(),y("div",T,[o("div",U,[o("div",I,[e[2]||(e[2]=o("label",{for:"search",class:"rvt-label rvt-sr-only"},"Search",-1)),h(o("input",{id:"search","onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t),type:"text",class:"rvt-text-input rvt-c-input",placeholder:"Search"},null,512),[[S,u.value]])]),o("div",$,[e[4]||(e[4]=o("label",{for:"sort-by",class:"rvt-label rvt-text-uppercase rvt-text-medium w-100"},"Sort By:",-1)),h(o("select",{id:"sort-by","onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),class:"rvt-select rvt-c-select w-100"},e[3]||(e[3]=[k('<option disabled value="" data-v-55741d1d>Select a Field</option><option value="title" data-v-55741d1d>Title</option><option value="author" data-v-55741d1d>Author</option><option value="journal" data-v-55741d1d>Journal</option><option value="year" data-v-55741d1d>Year</option>',5)]),512),[[V,l.value]])])]),o("div",{ref_key:"pubsList",ref:f,class:"publications-list rvt-p-tb-lg"},[(d(!0),y(N,null,B(_.value,t=>(d(),x(F,{key:t.pubid,pub:t},null,8,["pub"]))),128)),p.pubs.length>p.perPage?(d(),x(M,{key:0,"total-pages":P.value,"current-page":v.value,"onUpdate:currentPage":w},null,8,["total-pages","current-page"])):L("",!0)],512)]))}}),K=j(z,[["__scopeId","data-v-55741d1d"]]);export{K as default};
